--[[
    Linux UI Library
    A clean, elegant UI library for Roblox
    
    Author: Linux
    Version: 1.0.0
]]

-- Services
local TweenService = game:GetService("TweenService")
local InputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

-- Constants
local COLORS = {
    BACKGROUND = Color3.fromRGB(10, 10, 10),
    BORDER = Color3.fromRGB(40, 40, 40),
    ELEMENT_BACKGROUND = Color3.fromRGB(20, 20, 20),
    ELEMENT_HOVER = Color3.fromRGB(30, 30, 30),
    TEXT_PRIMARY = Color3.fromRGB(220, 220, 220),
    TEXT_SECONDARY = Color3.fromRGB(180, 180, 180),
    ACCENT = Color3.fromRGB(120, 20, 20),
    ACCENT_HOVER = Color3.fromRGB(140, 25, 25),
    TOGGLE_BACKGROUND = Color3.fromRGB(40, 40, 40),
    PROGRESS_BAR = Color3.fromRGB(120, 20, 20)
}

local CORNER_RADIUS = UDim.new(0, 4)
local BORDER_SIZE = 2
local STROKE_TRANSPARENCY = 0.7

-- Main Library
local Linux = {}

--[[ Utility Functions ]]--

-- Create a new instance with properties
function Linux.Instance(class, props)
    local inst = Instance.new(class)
    for k, v in pairs(props or {}) do
        inst[k] = v
    end
    return inst
end

-- Safely call a callback function
function Linux:SafeCallback(Function, ...)
    if not Function then
        return
    end
    local Success, Error = pcall(Function, ...)
    if not Success then
        self:Notify({
            Title = "Callback Error",
            Content = Error:match(".-:(.+)$") or tostring(Error),
            Duration = 5
        })
    end
end

--[[ Configuration Management ]]--

-- Save configuration to file
function Linux:SaveConfig(key, value, shouldSave, configFolder)
    if not shouldSave then return end
    local success, err = pcall(function()
        if not isfolder(configFolder) then
            makefolder(configFolder)
        end
        local configFile = configFolder .. "/config.json"
        local configData = {}
        if isfile(configFile) then
            configData = HttpService:JSONDecode(readfile(configFile))
        end
        configData[key] = value
        writefile(configFile, HttpService:JSONEncode(configData))
    end)
    if not success then
        self:Notify({
            Title = "Save Error",
            Content = "Failed to save config: " .. tostring(err),
            Duration = 5
        })
    end
end

-- Load configuration from file
function Linux:LoadConfig(key, default, shouldSave, configFolder)
    if not shouldSave then return default end
    local success, value = pcall(function()
        local configFile = configFolder .. "/config.json"
        if isfile(configFile) then
            local configData = HttpService:JSONDecode(readfile(configFile))
            return configData[key]
        end
        return default
    end)
    return success and value or default
end

--[[ Notification System ]]--

-- Display a notification
function Linux:Notify(config)
    local isMobile = InputService.TouchEnabled and not InputService.KeyboardEnabled
    local notificationWidth = isMobile and 200 or 300
    local notificationHeight = config.SubContent and 80 or 60
    local startPosX = isMobile and 10 or 20

    -- Clean up existing notifications
    local parent = RunService:IsStudio() and LocalPlayer.PlayerGui or game:GetService("CoreGui")
    for _, v in pairs(parent:GetChildren()) do
        if v:IsA("ScreenGui") and v.Name == "NotificationHolder" then
            v:Destroy()
        end
    end

    -- Create notification holder
    local NotificationHolder = Linux.Instance("ScreenGui", {
        Name = "NotificationHolder",
        Parent = parent,
        ResetOnSpawn = false,
        Enabled = true,
        ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    })

    -- Create notification frame
    local Notification = Linux.Instance("Frame", {
        Parent = NotificationHolder,
        BackgroundColor3 = COLORS.BACKGROUND,
        BorderColor3 = COLORS.BORDER,
        BorderSizePixel = BORDER_SIZE,
        Size = UDim2.new(0, notificationWidth, 0, notificationHeight),
        Position = UDim2.new(1, 10, 1, -notificationHeight - 10),
        ZIndex = 100
    })

    Linux.Instance("UICorner", {
        Parent = Notification,
        CornerRadius = CORNER_RADIUS
    })

    Linux.Instance("UIStroke", {
        Parent = Notification,
        Color = COLORS.BORDER,
        Thickness = 1,
        Transparency = STROKE_TRANSPARENCY
    })

    -- Title
    Linux.Instance("TextLabel", {
        Parent = Notification,
        BackgroundTransparency = 1,
        Size = UDim2.new(1, -10, 0, 20),
        Position = UDim2.new(0, 5, 0, 5),
        Font = Enum.Font.Code,
        Text = config.Title or "Notification",
        TextColor3 = COLORS.TEXT_PRIMARY,
        TextSize = 16,
        TextXAlignment = Enum.TextXAlignment.Left,
        TextYAlignment = Enum.TextYAlignment.Top,
        ZIndex = 101
    })

    -- Content
    Linux.Instance("TextLabel", {
        Parent = Notification,
        BackgroundTransparency = 1,
        Size = UDim2.new(1, -10, 0, 20),
        Position = UDim2.new(0, 5, 0, 25),
        Font = Enum.Font.Code,
        Text = config.Content or "Content",
        TextColor3 = COLORS.TEXT_SECONDARY,
        TextSize = 14,
        TextWrapped = true,
        TextXAlignment = Enum.TextXAlignment.Left,
        TextYAlignment = Enum.TextYAlignment.Top,
        ZIndex = 101
    })

    -- Optional SubContent
    if config.SubContent then
        Linux.Instance("TextLabel", {
            Parent = Notification,
            BackgroundTransparency = 1,
            Size = UDim2.new(1, -10, 0, 20),
            Position = UDim2.new(0, 5, 0, 45),
            Font = Enum.Font.Code,
            Text = config.SubContent,
            TextColor3 = COLORS.TEXT_PRIMARY,
            TextSize = 12,
            TextWrapped = true,
            TextXAlignment = Enum.TextXAlignment.Left,
            TextYAlignment = Enum.TextYAlignment.Top,
            ZIndex = 101
        })
    end

    -- Progress bar
    local ProgressBar = Linux.Instance("Frame", {
        Parent = Notification,
        BackgroundColor3 = COLORS.TOGGLE_BACKGROUND,
        Size = UDim2.new(1, -10, 0, 4),
        Position = UDim2.new(0, 5, 1, -9),
        ZIndex = 101,
        BorderSizePixel = 0
    })

    Linux.Instance("UICorner", {
        Parent = ProgressBar,
        CornerRadius = UDim.new(0, 2)
    })

    local ProgressFill = Linux.Instance("Frame", {
        Parent = ProgressBar,
        BackgroundColor3 = COLORS.ACCENT,
        Size = UDim2.new(0, 0, 1, 0),
        ZIndex = 101,
        BorderSizePixel = 0
    })

    Linux.Instance("UIGradient", {
        Parent = ProgressFill,
        Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, COLORS.ACCENT),
            ColorSequenceKeypoint.new(1, COLORS.PROGRESS_BAR)
        }),
        Rotation = 0
    })

    Linux.Instance("UICorner", {
        Parent = ProgressFill,
        CornerRadius = UDim.new(0, 2)
    })

    -- Animate notification
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    TweenService:Create(Notification, tweenInfo, {Position = UDim2.new(0, startPosX, 1, -notificationHeight - 10)}):Play()

    -- Handle duration and cleanup
    if config.Duration then
        local progressTweenInfo = TweenInfo.new(config.Duration, Enum.EasingStyle.Linear, Enum.EasingDirection.In)
        TweenService:Create(ProgressFill, progressTweenInfo, {Size = UDim2.new(1, 0, 1, 0)}):Play()

        task.delay(config.Duration, function()
            TweenService:Create(Notification, tweenInfo, {Position = UDim2.new(1, 10, 1, -notificationHeight - 10)}):Play()
            task.wait(0.5)
            NotificationHolder:Destroy()
        end)
    end
end

--[[ Main UI Creation ]]--

function Linux.Create(config)
    local randomName = "UI_" .. tostring(math.random(100000, 999999))
    local shouldSave = config.Save ~= false
    local configFolder = config.ConfigFolder or "LinuxUI"

    -- Clean up existing UIs
    for _, v in pairs(game.CoreGui:GetChildren()) do
        if v:IsA("ScreenGui") and v.Name:match("^UI_%d+$") then
            v:Destroy()
        end
    end

    local ProtectGui = protectgui or (syn and syn.protect_gui) or function() end

    -- Create main ScreenGui
    local LinuxUI = Linux.Instance("ScreenGui", {
        Name = randomName,
        Parent = RunService:IsStudio() and LocalPlayer.PlayerGui or game:GetService("CoreGui"),
        ResetOnSpawn = false,
        Enabled = true
    })

    ProtectGui(LinuxUI)

    -- Determine UI size based on device
    local isMobile = InputService.TouchEnabled and not InputService.KeyboardEnabled
    local uiSize = isMobile and (config.SizeMobile or UDim2.fromOffset(300, 500)) or (config.SizePC or UDim2.fromOffset(550, 355))

    -- Create main frame
    local Main = Linux.Instance("Frame", {
        Parent = LinuxUI,
        BackgroundColor3 = COLORS.BACKGROUND,
        BorderColor3 = COLORS.BORDER,
        BorderSizePixel = BORDER_SIZE,
        Size = uiSize,
        Position = UDim2.new(0.5, -uiSize.X.Offset / 2, 0.5, -uiSize.Y.Offset / 2),
        Active = true,
        Draggable = true,
        ZIndex = 1
    })

    Linux.Instance("UICorner", {
        Parent = Main,
        CornerRadius = CORNER_RADIUS
    })

    Linux.Instance("UIStroke", {
        Parent = Main,
        Color = COLORS.BORDER,
        Thickness = 1,
        Transparency = STROKE_TRANSPARENCY
    })

    -- Create top bar
    local TopBar = Linux.Instance("Frame", {
        Parent = Main,
        BackgroundColor3 = COLORS.BACKGROUND,
        BorderColor3 = COLORS.BORDER,
        BorderSizePixel = BORDER_SIZE,
        Size = UDim2.new(1, 0, 0, 25),
        ZIndex = 2
    })

    Linux.Instance("UICorner", {
        Parent = TopBar,
        CornerRadius = CORNER_RADIUS
    })

    -- Title label
    local TitleLabel = Linux.Instance("TextLabel", {
        Parent = TopBar,
        BackgroundTransparency = 1,
        Size = UDim2.new(0, 0, 1, 0),
        Position = UDim2.new(0, 5, 0, 0),
        Font = Enum.Font.Code,
        Text = config.Name or "Linux UI",
        TextColor3 = COLORS.TEXT_PRIMARY,
        TextSize = 16,
        TextXAlignment = Enum.TextXAlignment.Left,
        AutomaticSize = Enum.AutomaticSize.X,
        ZIndex = 2
    })

    -- Tabs bar
    local TabsBar = Linux.Instance("Frame", {
        Parent = Main,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 25),
        Size = UDim2.new(0, config.TabWidth or 110, 1, -25),
        ZIndex = 2,
        BorderSizePixel = 0
    })

    -- Tab holder
    local TabHolder = Linux.Instance("ScrollingFrame", {
        Parent = TabsBar,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 0),
        Size = UDim2.new(1, 0, 1, 0),
        CanvasSize = UDim2.new(0, 0, 0, 0),
        AutomaticCanvasSize = Enum.AutomaticSize.Y,
        ScrollBarThickness = 0,
        ZIndex = 2,
        BorderSizePixel = 0,
        ScrollingEnabled = true
    })

    Linux.Instance("UIListLayout", {
        Parent = TabHolder,
        Padding = UDim.new(0, 3),
        HorizontalAlignment = Enum.HorizontalAlignment.Left,
        VerticalAlignment = Enum.VerticalAlignment.Top,
        SortOrder = Enum.SortOrder.LayoutOrder
    })

    Linux.Instance("UIPadding", {
        Parent = TabHolder,
        PaddingLeft = UDim.new(0, 5),
        PaddingTop = UDim.new(0, 5)
    })

    -- Content area
    local Content = Linux.Instance("Frame", {
        Parent = Main,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, config.TabWidth or 110, 0, 25),
        Size = UDim2.new(1, -(config.TabWidth or 110), 1, -25),
        ZIndex = 1,
        BorderSizePixel = 2,
        BorderColor3 = COLORS.BORDER
    })

    -- Toggle UI visibility with Left Alt
    local isHidden = false
    InputService.InputBegan:Connect(function(input)
        if input.KeyCode == Enum.KeyCode.LeftAlt then
            isHidden = not isHidden
            Main.Visible = not isHidden
        end
    end)

    -- Library interface
    local LinuxLib = {}
    local Tabs = {}
    local CurrentTab = nil
    local tabOrder = 0

    --[[ Tab Creation ]]--
    function LinuxLib.Tab(config)
        tabOrder = tabOrder + 1
        local tabIndex = tabOrder

        -- Create tab button
        local TabBtn = Linux.Instance("TextButton", {
            Parent = TabHolder,
            BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
            BorderColor3 = COLORS.BORDER,
            BorderSizePixel = BORDER_SIZE,
            Size = UDim2.new(1, -5, 0, 28),
            Font = Enum.Font.Code,
            Text = "",
            TextColor3 = COLORS.TEXT_PRIMARY,
            TextSize = 14,
            ZIndex = 2,
            AutoButtonColor = false,
            LayoutOrder = tabIndex
        })

        Linux.Instance("UICorner", {
            Parent = TabBtn,
            CornerRadius = CORNER_RADIUS
        })

        Linux.Instance("UIStroke", {
            Parent = TabBtn,
            Color = COLORS.BORDER,
            Thickness = 1,
            Transparency = STROKE_TRANSPARENCY
        })

        -- Tab icon (optional)
        local TabGradient
        local TabIcon
        if config.Icon and config.Icon.Enabled then
            TabIcon = Linux.Instance("ImageLabel", {
                Parent = TabBtn,
                BackgroundTransparency = 1,
                Size = UDim2.new(0, 16, 0, 16),
                Position = UDim2.new(0, 10, 0.5, -8),
                Image = config.Icon.Image or "rbxassetid://10747384394",
                ImageColor3 = COLORS.TEXT_PRIMARY,
                ZIndex = 2
            })
        end

        -- Tab text
        local TabText = Linux.Instance("TextLabel", {
            Parent = TabBtn,
            BackgroundTransparency = 1,
            Size = UDim2.new(1, config.Icon and config.Icon.Enabled and -31 or -15, 1, 0),
            Position = UDim2.new(0, config.Icon and config.Icon.Enabled and 31 or 10, 0, 0),
            Font = Enum.Font.Code,
            Text = config.Name,
            TextColor3 = COLORS.TEXT_PRIMARY,
            TextSize = 14,
            TextXAlignment = Enum.TextXAlignment.Left,
            ZIndex = 2
        })

        -- Tab content container
        local TabContent = Linux.Instance("Frame", {
            Parent = Content,
            BackgroundTransparency = 1,
            Size = UDim2.new(1, 0, 1, 0),
            Visible = false,
            ZIndex = 1,
            BorderSizePixel = 0
        })

        -- Scrollable container for elements
        local Container = Linux.Instance("ScrollingFrame", {
            Parent = TabContent,
            BackgroundTransparency = 1,
            Size = UDim2.new(1, -10, 1, -55),
            Position = UDim2.new(0, 5, 0, 30),
            CanvasSize = UDim2.new(0, 0, 0, 0),
            AutomaticCanvasSize = Enum.AutomaticSize.Y,
            ScrollBarThickness = 0,
            ZIndex = 1,
            BorderSizePixel = 2,
            BorderColor3 = COLORS.BORDER,
            ScrollingEnabled = true,
            CanvasPosition = Vector2.new(0, 0)
        })

        -- Layout for container elements
        local ContainerListLayout = Linux.Instance("UIListLayout", {
            Parent = Container,
            Padding = UDim.new(0, 3),
            HorizontalAlignment = Enum.HorizontalAlignment.Left,
            SortOrder = Enum.SortOrder.LayoutOrder
        })

        Linux.Instance("UIPadding", {
            Parent = Container,
            PaddingLeft = UDim.new(0, 5),
            PaddingTop = UDim.new(0, 5)
        })

        -- Title frame for the tab
        local TitleFrame = Linux.Instance("Frame", {
            Parent = Content,
            BackgroundColor3 = COLORS.BACKGROUND,
            BorderSizePixel = 0,
            Size = UDim2.new(1, -5, 0, 30),
            Position = UDim2.new(0, 5, 0, 0),
            Visible = false,
            ZIndex = 3
        })

        local TitleLabel = Linux.Instance("TextLabel", {
            Parent = TitleFrame,
            BackgroundTransparency = 1,
            Size = UDim2.new(1, 0, 1, 0),
            Position = UDim2.new(0, 0, 0, 0),
            Font = Enum.Font.Code,
            Text = config.Name,
            TextColor3 = COLORS.TEXT_PRIMARY,
            TextSize = 26,
            TextXAlignment = Enum.TextXAlignment.Left,
            TextYAlignment = Enum.TextYAlignment.Center,
            ZIndex = 4
        })

        -- Tab selection function
        local function SelectTab()
            for _, tab in pairs(Tabs) do
                tab.Content.Visible = false
                tab.TitleFrame.Visible = false
                tab.Text.TextColor3 = COLORS.TEXT_PRIMARY
                tab.Button.BackgroundColor3 = COLORS.ELEMENT_BACKGROUND
                for _, child in pairs(tab.Button:GetChildren()) do
                    if child:IsA("UIGradient") then
                        child:Destroy()
                    end
                end
                if tab.Icon then
                    tab.Icon.ImageColor3 = COLORS.TEXT_PRIMARY
                end
            end
            TabContent.Visible = true
            TitleFrame.Visible = true
            TabText.TextColor3 = COLORS.TEXT_PRIMARY
            TabBtn.BackgroundColor3 = COLORS.ACCENT
            TabGradient = Linux.Instance("UIGradient", {
                Parent = TabBtn,
                Color = ColorSequence.new({
                    ColorSequenceKeypoint.new(0, COLORS.ACCENT),
                    ColorSequenceKeypoint.new(1, COLORS.PROGRESS_BAR)
                }),
                Rotation = 0
            })
            if TabIcon then
                TabIcon.ImageColor3 = COLORS.TEXT_PRIMARY
            end
            CurrentTab = tabIndex
            Container.CanvasPosition = Vector2.new(0, 0)
        end

        TabBtn.MouseButton1Click:Connect(SelectTab)

        -- Store tab information
        Tabs[tabIndex] = {
            Name = config.Name,
            Button = TabBtn,
            Text = TabText,
            Icon = TabIcon,
            Content = TabContent,
            TitleFrame = TitleFrame,
            Gradient = TabGradient
        }

        -- Select first tab by default
        if tabOrder == 1 then
            SelectTab()
        end

        -- Tab elements interface
        local TabElements = {}
        local elementOrder = 0
        local lastWasDropdown = false

        --[[ Button Element ]]--
        function TabElements.Button(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create button frame
            local BtnFrame = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 34),
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = BtnFrame,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = BtnFrame,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Button
            local Btn = Linux.Instance("TextButton", {
                Parent = BtnFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, 0, 0, 34),
                Position = UDim2.new(0, 0, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Name,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2,
                AutoButtonColor = false
            })

            Linux.Instance("UIPadding", {
                Parent = Btn,
                PaddingLeft = UDim.new(0, 5)
            })

            -- Button icon
            local BtnIcon = Linux.Instance("ImageLabel", {
                Parent = BtnFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(0, 14, 0, 14),
                Position = UDim2.new(1, -20, 0.5, -7),
                Image = "rbxassetid://10709791437",
                ImageColor3 = COLORS.TEXT_PRIMARY,
                ZIndex = 2
            })

            -- Button hover and click effects
            local hoverColor = COLORS.ELEMENT_HOVER
            local originalColor = COLORS.ELEMENT_BACKGROUND
            local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local gradient = nil

            Btn.MouseEnter:Connect(function()
                TweenService:Create(BtnFrame, tweenInfo, {BackgroundColor3 = hoverColor, Size = UDim2.new(1, -5, 0, 34 * 1.02)}):Play()
            end)

            Btn.MouseLeave:Connect(function()
                TweenService:Create(BtnFrame, tweenInfo, {BackgroundColor3 = originalColor, Size = UDim2.new(1, -5, 0, 34)}):Play()
                if gradient then
                    gradient:Destroy()
                    gradient = nil
                end
            end)

            Btn.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
                    TweenService:Create(BtnFrame, tweenInfo, {BackgroundColor3 = COLORS.ACCENT}):Play()
                    if gradient then
                        gradient:Destroy()
                    end
                    gradient = Linux.Instance("UIGradient", {
                        Parent = BtnFrame,
                        Color = ColorSequence.new({
                            ColorSequenceKeypoint.new(0, COLORS.ACCENT),
                            ColorSequenceKeypoint.new(1, COLORS.PROGRESS_BAR)
                        }),
                        Rotation = 0
                    })
                end
            end)

            Btn.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
                    TweenService:Create(BtnFrame, tweenInfo, {BackgroundColor3 = originalColor, Size = UDim2.new(1, -5, 0, 34)}):Play()
                    if gradient then
                        gradient:Destroy()
                        gradient = nil
                    end
                end
            end)

            Btn.MouseButton1Click:Connect(function()
                spawn(function() Linux:SafeCallback(config.Callback) end)
            end)

            Container.CanvasPosition = Vector2.new(0, 0)
            return Btn
        end

        --[[ Toggle Element ]]--
        function TabElements.Toggle(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create toggle frame
            local Toggle = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 34),
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = Toggle,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = Toggle,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Toggle label
            Linux.Instance("TextLabel", {
                Parent = Toggle,
                BackgroundTransparency = 1,
                Size = UDim2.new(0.8, 0, 0, 34),
                Position = UDim2.new(0, 5, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Name,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2
            })

            -- Toggle box
            local ToggleBox = Linux.Instance("Frame", {
                Parent = Toggle,
                BackgroundColor3 = COLORS.TOGGLE_BACKGROUND,
                Size = UDim2.new(0, 40, 0, 20),
                Position = UDim2.new(1, -45, 0, 7),
                ZIndex = 2,
                BorderSizePixel = 0
            })

            Linux.Instance("UICorner", {
                Parent = ToggleBox,
                CornerRadius = UDim.new(1, 0)
            })

            Linux.Instance("UIStroke", {
                Parent = ToggleBox,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })
            
            -- Toggle circle
            local ToggleCircle = Linux.Instance("Frame", {
                Parent = ToggleBox,
                BackgroundColor3 = COLORS.TEXT_PRIMARY,
                Size = UDim2.new(0, 16, 0, 16),
                Position = UDim2.new(0, 2, 0.5, -8),
                ZIndex = 3,
                BorderSizePixel = 0
            })
            
            Linux.Instance("UICorner", {
                Parent = ToggleCircle,
                CornerRadius = UDim.new(1, 0)
            })

            -- Toggle state and animation
            local State = Linux:LoadConfig("Toggle_" .. config.Name, config.Default or false, shouldSave, configFolder)
            local isToggling = false

            local function UpdateToggle()
                if isToggling then return end
                isToggling = true
                local tween = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                if State then
                    TweenService:Create(ToggleBox, tween, {BackgroundColor3 = COLORS.ACCENT}):Play()
                    TweenService:Create(ToggleCircle, tween, {Position = UDim2.new(0, 22, 0.5, -8)}):Play()
                else
                    TweenService:Create(ToggleBox, tween, {BackgroundColor3 = COLORS.TOGGLE_BACKGROUND}):Play()
                    TweenService:Create(ToggleCircle, tween, {Position = UDim2.new(0, 2, 0.5, -8)}):Play()
                end
                task.wait(0.25)
                isToggling = false
            end

            UpdateToggle()
            spawn(function() Linux:SafeCallback(config.Callback, State) end)

            ToggleBox.InputBegan:Connect(function(input)
                if (input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1) and not isToggling then
                    State = not State
                    UpdateToggle()
                    Linux:SaveConfig("Toggle_" .. config.Name, State, shouldSave, configFolder)
                    spawn(function() Linux:SafeCallback(config.Callback, State) end)
                end
            end)

            Container.CanvasPosition = Vector2.new(0, 0)
            return Toggle
        end

        --[[ Dropdown Element ]]--
        function TabElements.Dropdown(config)
            elementOrder = elementOrder + 1
            lastWasDropdown = true

            -- Create dropdown frame
            local Dropdown = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 34),
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = Dropdown,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = Dropdown,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Dropdown button
            local DropdownButton = Linux.Instance("TextButton", {
                Parent = Dropdown,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, 0, 1, 0),
                Font = Enum.Font.Code,
                Text = "",
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                ZIndex = 2,
                AutoButtonColor = false
            })

            -- Dropdown label
            Linux.Instance("TextLabel", {
                Parent = DropdownButton,
                BackgroundTransparency = 1,
                Size = UDim2.new(0.8, 0, 1, 0),
                Position = UDim2.new(0, 5, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Name,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2
            })

            -- Dropdown options and selection
            local Options = config.Options or {}
            local SelectedValue = Linux:LoadConfig("Dropdown_" .. config.Name, config.Default or (Options[1] or "None"), shouldSave, configFolder)

            -- Selected value display
            local Selected = Linux.Instance("TextLabel", {
                Parent = DropdownButton,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -40, 1, 0),
                Font = Enum.Font.Code,
                Text = tostring(SelectedValue),
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Right,
                ZIndex = 2
            })

            -- Dropdown arrow
            local Arrow = Linux.Instance("ImageLabel", {
                Parent = DropdownButton,
                BackgroundTransparency = 1,
                Size = UDim2.new(0, 14, 0, 14),
                Position = UDim2.new(1, -20, 0.5, -7),
                Image = "rbxassetid://10709767827",
                ImageColor3 = COLORS.TEXT_PRIMARY,
                ZIndex = 2
            })

            -- Dropdown options frame
            local DropFrame = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(0, 0, 0, 0),
                Position = UDim2.new(0, 0, 0, 0),
                ZIndex = 5,
                Visible = false
            })

            Linux.Instance("UICorner", {
                Parent = DropFrame,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = DropFrame,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Dropdown options list
            local DropList = Linux.Instance("ScrollingFrame", {
                Parent = DropFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, 0, 1, 0),
                CanvasSize = UDim2.new(0, 0, 0, 0),
                AutomaticCanvasSize = Enum.AutomaticSize.Y,
                ScrollBarThickness = 4,
                ScrollingEnabled = true,
                ZIndex = 5
            })

            Linux.Instance("UIListLayout", {
                Parent = DropList,
                Padding = UDim.new(0, 3),
                HorizontalAlignment = Enum.HorizontalAlignment.Left
            })

            Linux.Instance("UIPadding", {
                Parent = DropList,
                PaddingLeft = UDim.new(0, 5),
                PaddingTop = UDim.new(0, 5),
                PaddingRight = UDim.new(0, 5),
                PaddingBottom = UDim.new(0, 5)
            })

            local IsOpen = false

            -- Update dropdown size based on options
            local function UpdateDropSize()
                local optionHeight = 25
                local paddingBetween = 3
                local paddingTop = 5
                local paddingBottom = 5
                local maxHeight = 150
                local numOptions = #Options
                local calculatedHeight = numOptions * optionHeight + (numOptions > 0 and (numOptions - 1) * paddingBetween + paddingTop + paddingBottom or 0)
                local finalHeight = math.min(calculatedHeight, maxHeight)
                local width = Dropdown.AbsoluteSize.X - 5

                -- Position the dropdown below the button
                DropFrame.Position = UDim2.new(0, Dropdown.AbsolutePosition.X, 0, Dropdown.AbsolutePosition.Y + Dropdown.AbsoluteSize.Y + 5)
                
                local tween = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                if IsOpen then
                    DropFrame.Visible = true
                    TweenService:Create(DropFrame, tween, {Size = UDim2.new(0, width, 0, finalHeight)}):Play()
                else
                    TweenService:Create(DropFrame, tween, {Size = UDim2.new(0, 0, 0, 0)}):Play()
                    task.delay(0.25, function()
                        DropFrame.Visible = false
                    end)
                end
            end

            -- Populate dropdown options
            local function PopulateOptions()
                for _, child in pairs(DropList:GetChildren()) do
                    if child:IsA("TextButton") then
                        child:Destroy()
                    end
                end
                
                if IsOpen then
                    for _, opt in pairs(Options) do
                        local OptBtn = Linux.Instance("TextButton", {
                            Parent = DropList,
                            BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                            BorderColor3 = COLORS.BORDER,
                            BorderSizePixel = BORDER_SIZE,
                            Size = UDim2.new(1, 0, 0, 25),
                            Font = Enum.Font.Code,
                            Text = tostring(opt),
                            TextColor3 = opt == SelectedValue and COLORS.TEXT_PRIMARY or COLORS.TEXT_SECONDARY,
                            TextSize = 14,
                            TextXAlignment = Enum.TextXAlignment.Center,
                            ZIndex = 6,
                            AutoButtonColor = false
                        })

                        Linux.Instance("UICorner", {
                            Parent = OptBtn,
                            CornerRadius = CORNER_RADIUS
                        })

                        Linux.Instance("UIStroke", {
                            Parent = OptBtn,
                            Color = COLORS.BORDER,
                            Thickness = 1,
                            Transparency = STROKE_TRANSPARENCY
                        })

                        local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                        OptBtn.MouseEnter:Connect(function()
                            TweenService:Create(OptBtn, tweenInfo, {BackgroundColor3 = COLORS.ELEMENT_HOVER}):Play()
                        end)

                        OptBtn.MouseLeave:Connect(function()
                            TweenService:Create(OptBtn, tweenInfo, {BackgroundColor3 = COLORS.ELEMENT_BACKGROUND}):Play()
                        end)

                        OptBtn.MouseButton1Click:Connect(function()
                            SelectedValue = opt
                            Selected.Text = tostring(opt)
                            Selected.TextColor3 = COLORS.TEXT_PRIMARY
                            IsOpen = false
                            UpdateDropSize()
                            Linux:SaveConfig("Dropdown_" .. config.Name, SelectedValue, shouldSave, configFolder)
                            spawn(function() Linux:SafeCallback(config.Callback, opt) end)
                        end)
                    end
                end
                UpdateDropSize()
            end

            if #Options > 0 then
                PopulateOptions()
                spawn(function() Linux:SafeCallback(config.Callback, SelectedValue) end)
            end

            DropdownButton.MouseButton1Click:Connect(function()
                IsOpen = not IsOpen
                PopulateOptions()
            end)

            -- Set dropdown options
            local function SetOptions(newOptions)
                Options = newOptions or {}
                SelectedValue = Options[1] or "None"
                Selected.Text = tostring(SelectedValue)
                Selected.TextColor3 = COLORS.TEXT_PRIMARY
                Linux:SaveConfig("Dropdown_" .. config.Name, SelectedValue, shouldSave, configFolder)
                PopulateOptions()
                spawn(function() Linux:SafeCallback(config.Callback, SelectedValue) end)
            end

            -- Set dropdown value
            local function SetValue(value)
                if table.find(Options, value) then
                    SelectedValue = value
                    Selected.Text = tostring(value)
                    Selected.TextColor3 = COLORS.TEXT_PRIMARY
                    Linux:SaveConfig("Dropdown_" .. config.Name, SelectedValue, shouldSave, configFolder)
                    spawn(function() Linux:SafeCallback(config.Callback, value) end)
                end
            end

            Container.CanvasPosition = Vector2.new(0, 0)
            return {
                Instance = Dropdown,
                SetOptions = SetOptions,
                SetValue = SetValue,
                GetValue = function() return SelectedValue end
            }
        end

        --[[ Slider Element ]]--
        function TabElements.Slider(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create slider frame
            local Slider = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 34),
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = Slider,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = Slider,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Slider title
            local TitleLabel = Linux.Instance("TextLabel", {
                Parent = Slider,
                BackgroundTransparency = 1,
                Size = UDim2.new(0.4, 0, 0, 16),
                Position = UDim2.new(0, 5, 0, 2),
                Font = Enum.Font.Code,
                Text = config.Name,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2
            })

            -- Slider bar
            local SliderBar = Linux.Instance("Frame", {
                Parent = Slider,
                BackgroundColor3 = COLORS.TOGGLE_BACKGROUND,
                Size = UDim2.new(1, -10, 0, 6),
                Position = UDim2.new(0, 5, 0, 20),
                ZIndex = 2,
                BorderSizePixel = 0
            })

            Linux.Instance("UICorner", {
                Parent = SliderBar,
                CornerRadius = UDim.new(1, 0)
            })

            -- Value label
            local ValueLabel = Linux.Instance("TextLabel", {
                Parent = Slider,
                BackgroundTransparency = 1,
                Size = UDim2.new(0, 40, 0, 16),
                Position = UDim2.new(1, -45, 0, 2),
                Font = Enum.Font.Code,
                Text = "",
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Right,
                ZIndex = 2
            })

            -- Fill bar
            local FillBar = Linux.Instance("Frame", {
                Parent = SliderBar,
                Size = UDim2.new(0, 0, 1, 0),
                Position = UDim2.new(0, 0, 0, 0),
                ZIndex = 2,
                BorderSizePixel = 0,
                BackgroundColor3 = COLORS.ACCENT
            })

            Linux.Instance("UICorner", {
                Parent = FillBar,
                CornerRadius = UDim.new(1, 0)
            })

            -- Slider values
            local Min = config.Min or 0
            local Max = config.Max or 100
            local Default = Linux:LoadConfig("Slider_" .. config.Name, config.Default or Min, shouldSave, configFolder)
            local Value = Default

            -- Animate value label
            local function AnimateValueLabel()
                local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                TweenService:Create(ValueLabel, tweenInfo, {TextSize = 16}):Play()
                task.wait(0.25)
                TweenService:Create(ValueLabel, tweenInfo, {TextSize = 14}):Play()
            end

            -- Update slider position and value
            local function UpdateSlider(pos)
                local barSize = SliderBar.AbsoluteSize.X
                local relativePos = math.clamp((pos - SliderBar.AbsolutePosition.X) / barSize, 0, 1)
                Value = Min + (Max - Min) * relativePos
                Value = math.floor(Value + 0.5)
                FillBar.Size = UDim2.new(relativePos, 0, 1, 0)
                local percentage = math.floor((Value - Min) / (Max - Min) * 100 + 0.5)
                ValueLabel.Text = tostring(percentage) .. "%"
                AnimateValueLabel()
                Linux:SaveConfig("Slider_" .. config.Name, Value, shouldSave, configFolder)
                spawn(function() Linux:SafeCallback(config.Callback, Value) end)
            end

            local draggingSlider = false

            -- Slider input handling
            SliderBar.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
                    draggingSlider = true
                    UpdateSlider(input.Position.X)
                end
            end)

            SliderBar.InputChanged:Connect(function(input)
                if (input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement) and draggingSlider then
                    UpdateSlider(input.Position.X)
                end
            end)

            SliderBar.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
                    draggingSlider = false
                end
            end)

            -- Set slider value
            local function SetValue(newValue)
                newValue = math.clamp(newValue, Min, Max)
                Value = math.floor(newValue + 0.5)
                local relativePos = (Value - Min) / (Max - Min)
                FillBar.Size = UDim2.new(relativePos, 0, 1, 0)
                local percentage = math.floor((Value - Min) / (Max - Min) * 100 + 0.5)
                ValueLabel.Text = tostring(percentage) .. "%"
                AnimateValueLabel()
                Linux:SaveConfig("Slider_" .. config.Name, Value, shouldSave, configFolder)
                spawn(function() Linux:SafeCallback(config.Callback, Value) end)
            end

            SetValue(Default)

            Container.CanvasPosition = Vector2.new(0, 0)
            return {
                Instance = Slider,
                SetValue = SetValue,
                GetValue = function() return Value end
            }
        end

        --[[ Input Element ]]--
        function TabElements.Input(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create input frame
            local Input = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 34),
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = Input,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = Input,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Input label
            Linux.Instance("TextLabel", {
                Parent = Input,
                BackgroundTransparency = 1,
                Size = UDim2.new(0.5, 0, 1, 0),
                Position = UDim2.new(0, 5, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Name,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2
            })

            -- Text box
            local TextBox = Linux.Instance("TextBox", {
                Parent = Input,
                BackgroundColor3 = COLORS.ELEMENT_HOVER,
                BorderSizePixel = 0,
                Size = UDim2.new(0.22, -5, 0, 22),
                Position = UDim2.new(1, -80, 0.5, -11),
                Font = Enum.Font.Code,
                Text = Linux:LoadConfig("Input_" .. config.Name, config.Default or "", shouldSave, configFolder),
                PlaceholderText = config.Placeholder or "Text Here",
                PlaceholderColor3 = COLORS.TEXT_SECONDARY,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 11,
                TextScaled = false,
                TextTruncate = Enum.TextTruncate.AtEnd,
                TextXAlignment = Enum.TextXAlignment.Center,
                ClearTextOnFocus = false,
                ClipsDescendants = true,
                ZIndex = 3
            })

            Linux.Instance("UICorner", {
                Parent = TextBox,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = TextBox,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            Linux.Instance("UIPadding", {
                Parent = TextBox,
                PaddingLeft = UDim.new(0, 4),
                PaddingRight = UDim.new(0, 4)
            })

            -- Text length limit
            local MaxLength = 50

            local function CheckTextBounds()
                if #TextBox.Text > MaxLength then
                    TextBox.Text = string.sub(TextBox.Text, 1, MaxLength)
                end
            end

            TextBox:GetPropertyChangedSignal("Text"):Connect(function()
                CheckTextBounds()
            end)

            local function UpdateInput()
                CheckTextBounds()
                Linux:SaveConfig("Input_" .. config.Name, TextBox.Text, shouldSave, configFolder)
                spawn(function() Linux:SafeCallback(config.Callback, TextBox.Text) end)
            end

            TextBox.FocusLost:Connect(function(enterPressed)
                if enterPressed then
                    UpdateInput()
                end
            end)

            TextBox.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
                    TextBox:CaptureFocus()
                end
            end)

            spawn(function() Linux:SafeCallback(config.Callback, TextBox.Text) end)

            -- Set input value
            local function SetValue(newValue)
                local text = tostring(newValue)
                if #text > MaxLength then
                    text = string.sub(text, 1, MaxLength)
                end
                TextBox.Text = text
                UpdateInput()
            end

            Container.CanvasPosition = Vector2.new(0, 0)
            return {
                Instance = Input,
                SetValue = SetValue,
                GetValue = function() return TextBox.Text end
            }
        end

        --[[ Label Element ]]--
        function TabElements.Label(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create label frame
            local LabelFrame = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 34),
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = LabelFrame,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = LabelFrame,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Label text
            local LabelText = Linux.Instance("TextLabel", {
                Parent = LabelFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -10, 1, 0),
                Position = UDim2.new(0, 5, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Text or "Label",
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                TextTruncate = Enum.TextTruncate.AtEnd,
                ZIndex = 2
            })

            -- Dynamic label updating
            local UpdateConnection = nil
            local lastUpdate = 0
            local updateInterval = 0.1

            local function StartUpdateLoop()
                if UpdateConnection then
                    UpdateConnection:Disconnect()
                end
                if config.UpdateCallback then
                    UpdateConnection = RunService.Heartbeat:Connect(function()
                        if not LabelFrame:IsDescendantOf(game) then
                            UpdateConnection:Disconnect()
                            return
                        end
                        local currentTime = tick()
                        if currentTime - lastUpdate >= updateInterval then
                            local success, newText = pcall(config.UpdateCallback)
                            if success and newText ~= nil then
                                LabelText.Text = tostring(newText)
                            end
                            lastUpdate = currentTime
                        end
                    end)
                end
            end

            -- Set label text
            local function SetText(newText)
                if config.UpdateCallback then
                    config.Text = tostring(newText)
                else
                    LabelText.Text = tostring(newText)
                end
            end

            if config.UpdateCallback then
                StartUpdateLoop()
            end

            Container.CanvasPosition = Vector2.new(0, 0)
            return {
                Instance = LabelFrame,
                SetText = SetText,
                GetText = function() return LabelText.Text end
            }
        end

        --[[ Section Element ]]--
        function TabElements.Section(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create section frame
            local Section = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -5, 0, 24),
                AutomaticSize = Enum.AutomaticSize.Y,
                ZIndex = 2,
                LayoutOrder = elementOrder,
                BorderSizePixel = 0
            })

            -- Section title
            Linux.Instance("TextLabel", {
                Parent = Section,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -10, 1, 0),
                Position = UDim2.new(0, 5, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Name,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 18,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2
            })

            Container.CanvasPosition = Vector2.new(0, 0)
            return Section
        end

        --[[ Paragraph Element ]]--
        function TabElements.Paragraph(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create paragraph frame
            local ParagraphFrame = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 0),
                AutomaticSize = Enum.AutomaticSize.Y,
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = ParagraphFrame,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = ParagraphFrame,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Paragraph title
            Linux.Instance("TextLabel", {
                Parent = ParagraphFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -10, 0, 20),
                Position = UDim2.new(0, 5, 0, 5),
                Font = Enum.Font.Code,
                Text = config.Title or "Paragraph",
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 16,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2
            })

            -- Paragraph content
            local Content = Linux.Instance("TextLabel", {
                Parent = ParagraphFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -10, 0, 0),
                Position = UDim2.new(0, 5, 0, 25),
                Font = Enum.Font.Code,
                Text = config.Content or "Content",
                TextColor3 = COLORS.TEXT_SECONDARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                TextWrapped = true,
                AutomaticSize = Enum.AutomaticSize.Y,
                ZIndex = 2
            })

            Linux.Instance("UIPadding", {
                Parent = ParagraphFrame,
                PaddingBottom = UDim.new(0, 5)
            })

            -- Set paragraph title
            local function SetTitle(newTitle)
                ParagraphFrame:GetChildren()[1].Text = tostring(newTitle)
            end

            -- Set paragraph content
            local function SetContent(newContent)
                Content.Text = tostring(newContent)
            end

            Container.CanvasPosition = Vector2.new(0, 0)
            return {
                Instance = ParagraphFrame,
                SetTitle = SetTitle,
                SetContent = SetContent
            }
        end

        --[[ Notification Element ]]--
        function TabElements.Notification(config)
            elementOrder = elementOrder + 1
            if lastWasDropdown then
                ContainerListLayout.Padding = UDim.new(0, 1)
            else
                ContainerListLayout.Padding = UDim.new(0, 3)
            end
            lastWasDropdown = false

            -- Create notification frame
            local NotificationFrame = Linux.Instance("Frame", {
                Parent = Container,
                BackgroundColor3 = COLORS.ELEMENT_BACKGROUND,
                BorderColor3 = COLORS.BORDER,
                BorderSizePixel = BORDER_SIZE,
                Size = UDim2.new(1, -5, 0, 34),
                ZIndex = 2,
                LayoutOrder = elementOrder
            })

            Linux.Instance("UICorner", {
                Parent = NotificationFrame,
                CornerRadius = CORNER_RADIUS
            })

            Linux.Instance("UIStroke", {
                Parent = NotificationFrame,
                Color = COLORS.BORDER,
                Thickness = 1,
                Transparency = STROKE_TRANSPARENCY
            })

            -- Notification label
            Linux.Instance("TextLabel", {
                Parent = NotificationFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(0.5, 0, 1, 0),
                Position = UDim2.new(0, 5, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Name,
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 2
            })

            -- Notification text
            local NotificationText = Linux.Instance("TextLabel", {
                Parent = NotificationFrame,
                BackgroundTransparency = 1,
                Size = UDim2.new(0.5, -10, 1, 0),
                Position = UDim2.new(0.5, 5, 0, 0),
                Font = Enum.Font.Code,
                Text = config.Default or "Notification",
                TextColor3 = COLORS.TEXT_PRIMARY,
                TextSize = 14,
                TextXAlignment = Enum.TextXAlignment.Right,
                TextTruncate = Enum.TextTruncate.AtEnd,
                ZIndex = 2
            })

            -- Set notification text
            local function SetText(newText)
                NotificationText.Text = tostring(newText)
            end

            Container.CanvasPosition = Vector2.new(0, 0)
            return {
                Instance = NotificationFrame,
                SetText = SetText,
                GetText = function() return NotificationText.Text end
            }
        end

        return TabElements
    end

    return LinuxLib
end

return Linux
